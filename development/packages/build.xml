<?xml version="1.0" encoding="UTF-8"?>
<project name="churchdirectory" default="build">
    <description>
        Build for Joomla Bible Study, Please modify location as you need.
    </description>
    <!-- set global properties for this build -->
    <property name="src" location="src"/>
    <property name="build" location="/Users/bcordis/NetBeansProjects/joomla_churchdirectory/development/trunk/"/>
    <property name="dist"  location="dist"/>
    <target name="reset">
        <echo message="Reset back to Dev State" />
        <delete file="../com_churchdirectory/admin/churchdirectory.xml" />
        <delete file="../com_churchdirectory/admin/churchdirectory.script.php" />
        <symlink link="${build}/com_churchdirectory/admin/churchdirectory.xml" resource="${build}/com_churchdirectory/churchdirectory.xml"/>
        <symlink link="${build}/com_churchdirectory/admin/churchdirectory.script.php" resource="${build}/com_churchdirectory/churchdirectory.script.php"/>
    </target>
    <target name="clean">
        <echo message="Cleaning directories" />
        <delete file="packages/com_churchdirectory.zip" />
        <delete file="packages/mod_birthdayanniversary.zip" />
        <delete file="packages/plg_churchdirectory_search.zip" />
        <delete file="packages/plg_churchdirectory_finder.zip" />
        <delete file="pkg_churchdirectory.zip" />
    </target>
    <target name="build">
        <echo message="Building package" />
        <mkdir dir="packages" />
        <delete file="../trunk/com_churchdirectory/admin/churchdirectory.xml" />
        <delete file="../trunk/com_churchdirectory/admin/file.script.php" />
        <zip destfile="packages/com_churchdirectory.zip" basedir="../trunk/com_churchdirectory" />
        <zip destfile="packages/mod_birthdayanniversary.zip" basedir="../trunk/modules/mod_birthdayanniversary" />
        <zip destfile="packages/plg_churchdirectory_search.zip" basedir="../trunk/plugins/churchdirectory_search" />
        <zip destfile="packages/plg_churchdirectory_finder.zip" basedir="../trunk/plugins/churchdirectory_finder" />
        <zip destfile="pkg_churchdirectory.zip">
            <fileset dir=".">
                <include name="packages/**" />
                <include name="pkg_churchdirectory.xml" />
            </fileset>
        </zip>
    </target>
</project>